{"ast":null,"code":"import _objectSpread from \"/home/akash/srikar/DealsBazzar-1-main/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/akash/srikar/DealsBazzar-1-main/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/akash/srikar/DealsBazzar-1-main/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/akash/srikar/DealsBazzar-1-main/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/akash/srikar/DealsBazzar-1-main/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/akash/srikar/DealsBazzar-1-main/UI/NewCode/react-login-form/src/PaymentComponent/Pay.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router\";\nimport * as bidUserAction from '../Redux/Action/BidUserAction';\nimport * as orderUseraction from '../Redux/Action/OrderAction';\nimport paymentService from '../Service/PaymentService';\nimport Store from '../Redux/Store';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    product: state.product,\n    bid: state.bid,\n    payment: state.payment.paymenttype\n  };\n};\n\nvar Pay = /*#__PURE__*/function (_Component) {\n  _inherits(Pay, _Component);\n\n  var _super = _createSuper(Pay);\n\n  function Pay() {\n    var _this;\n\n    _classCallCheck(this, Pay);\n\n    _this = _super.call(this);\n\n    _this.pay = function (event) {\n      var c = _this.paymentType.value;\n      var ob = {\n        paymentTypeId: _this.paymentType.value,\n        bidderPrice: _this.props.bid.bidPrice\n      };\n      var bidId = \"\";\n\n      if (window.confirm(\"confirming payment\") == true) {\n        //payment transation start\n        paymentService.addPayment(ob, _this.props.bid.bidId).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          bidId = data.data.bidId;\n          console.log(\"paymenttype: \", data);\n\n          if (data.statusCode == 200) {\n            Store.dispatch(_objectSpread(_objectSpread({}, bidUserAction.ACTION_DELETE_USERB_ID), {}, {\n              payload: {\n                bidId: bidId\n              }\n            }));\n            Store.dispatch(_objectSpread(_objectSpread({}, orderUseraction.ACTION_ADD_ORDER), {}, {\n              payload: {\n                order: data.data\n              }\n            }));\n          }\n        }); //payment transation end\n\n        _this.setState({\n          redirect: true\n        });\n      } else {}\n\n      event.preventDefault();\n    };\n\n    _this.state = {\n      redirect: false\n    };\n    return _this;\n  }\n\n  _createClass(Pay, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.redirect) {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/dashboard\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 20\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }, \"pay Component\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.pay,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, \"Payment Type\"), /*#__PURE__*/React.createElement(\"select\", {\n        ref: function ref(c) {\n          return _this2.paymentType = c;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }\n      }, this.props.payment.map(function (paymenttp) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: paymenttp.paymentTypeId,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 36\n          }\n        }, paymenttp.paymentType);\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }\n      }, \"Amount to pay\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.props.bid.bidPrice,\n        readOnly: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }, \"send amount\")));\n    }\n  }]);\n\n  return Pay;\n}(Component);\n\nexport default connect(mapStateToProps)(Pay);","map":{"version":3,"sources":["/home/akash/srikar/DealsBazzar-1-main/UI/NewCode/react-login-form/src/PaymentComponent/Pay.js"],"names":["React","Component","connect","Navigate","bidUserAction","orderUseraction","paymentService","Store","mapStateToProps","state","product","bid","payment","paymenttype","Pay","pay","event","c","paymentType","value","ob","paymentTypeId","bidderPrice","props","bidPrice","bidId","window","confirm","addPayment","then","response","json","data","console","log","statusCode","dispatch","ACTION_DELETE_USERB_ID","payload","ACTION_ADD_ORDER","order","setState","redirect","preventDefault","map","paymenttp"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router\";\nimport * as bidUserAction from '../Redux/Action/BidUserAction'\nimport * as orderUseraction from '../Redux/Action/OrderAction'\nimport paymentService from '../Service/PaymentService'\nimport Store from '../Redux/Store'\n\nvar mapStateToProps = state => {\n    return {\n        product: state.product,\n        bid: state.bid,\n        payment: state.payment.paymenttype\n    }\n}\n\nclass Pay extends Component {\n    constructor() {\n        super()\n        this.state = {\n            redirect: false\n        }\n    }\n    pay = (event) => {\n        var c = this.paymentType.value\n        var ob={\n            paymentTypeId:this.paymentType.value,\n            bidderPrice:this.props.bid.bidPrice\n        }\n        var bidId=\"\";\n        if (window.confirm(\"confirming payment\") == true) {\n            //payment transation start\n            paymentService.addPayment(ob,this.props.bid.bidId)\n                .then(response => response.json())\n                .then(data => {\n                    bidId=data.data.bidId\n                    console.log(\"paymenttype: \", data)\n                    if (data.statusCode == 200) {\n                        Store.dispatch({\n                            ...bidUserAction.ACTION_DELETE_USERB_ID, payload: {\n                                bidId: bidId\n                            }\n                        })\n                        Store.dispatch({\n                            ...orderUseraction.ACTION_ADD_ORDER, payload: {\n                                order: data.data\n                            }\n                        })\n                    }\n                })\n            //payment transation end\n            this.setState({ redirect: true })\n        } else {\n\n        }\n        event.preventDefault();\n    }\n\n    render() {\n        if (this.state.redirect) {\n            return <Navigate to=\"/dashboard\"></Navigate>\n        }\n        return <div>\n            <h2>pay Component</h2>\n            <form onSubmit={this.pay}>\n                <div className=\"form-group\">\n                    <label >Payment Type</label>\n                    <select ref={c => this.paymentType = c}>\n                        {this.props.payment.map((paymenttp) => {\n                            return <option value={paymenttp.paymentTypeId}>{paymenttp.paymentType}</option>\n                        })}\n                    </select>\n                    <div className=\"form-group\">\n                        <label >Amount to pay</label>\n                        <input type=\"text\" className=\"form-control\" value={this.props.bid.bidPrice} readOnly />\n                    </div>\n                </div>\n                <button type=\"submit\" className=\"btn btn-success\">send amount</button>\n            </form>\n        </div>\n    }\n}\n\nexport default connect(mapStateToProps)(Pay)"]},"metadata":{},"sourceType":"module"}