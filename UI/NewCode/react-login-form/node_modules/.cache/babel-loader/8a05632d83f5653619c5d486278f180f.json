{"ast":null,"code":"import _objectSpread from \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/src/UserOrder/UserOrder.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Store from '../Redux/Store';\nimport * as actions from '../Redux/Action/ProductAction';\nimport ProductService from '../Service/ProductService';\nimport OrderService from '../Service/OrderService';\nimport * as productaction from '../Redux/Action/ProductIdAction';\nimport * as bidaction from '../Redux/Action/BidUserAction';\nimport Navbar from '../components/Navbar';\nimport { Link } from 'react-router-dom';\nimport * as orderUseraction from '../Redux/Action/OrderAction';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    products: state.products,\n    orderList: state.userorderlist\n  };\n};\n\nvar UserOrder = /*#__PURE__*/function (_React$Component) {\n  _inherits(UserOrder, _React$Component);\n\n  var _super = _createSuper(UserOrder);\n\n  function UserOrder() {\n    var _this;\n\n    _classCallCheck(this, UserOrder);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.cancelOrder = function (order) {\n      OrderService.cancelOrder(order).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        if (data.statusCode == 200) {\n          Store.dispatch(_objectSpread(_objectSpread({}, orderUseraction.ACTION_CANCEL_ORDER), {}, {\n            payload: {\n              orderId: data.data.orderId\n            }\n          }));\n          var pid = data.data.productId;\n          var stock = data.data.stock;\n          Store.dispatch(_objectSpread(_objectSpread({}, actions.ACTION_UPDATE_PRODUCT_QUANTITY), {}, {\n            payload: {\n              pid: pid,\n              stock: stock\n            }\n          }));\n        }\n      });\n    };\n\n    _this.filterProduct = function (order) {\n      var arr = [];\n      arr = _this.props.products.filter(function (product) {\n        return product.productId == order.productId;\n      });\n      return arr;\n    };\n\n    return _this;\n  }\n\n  _createClass(UserOrder, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-dark table-striped\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }\n      }, \"Sl.No\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }\n      }, \"Product Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }\n      }, \"Product Description\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }, \"Images\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }\n      }, \"Bidded Price\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }\n      }, \"Bidded Stock\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }, \"Order Date\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, \"Order Status\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, this.props.orderList.map(function (order, index) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 32\n          }\n        }, /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"row\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }\n        }, index + 1), _this2.filterProduct(order).map(function (product) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"td\", {\n            ref: _this2.product = product,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }\n          }, product.productName), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 37\n            }\n          }, product.productDescription), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            className: \"image\",\n            src: \"data:image/jpeg;base64,\".concat(product.productImages[0]),\n            alt: \"first image\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 41\n            }\n          })), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 37\n            }\n          }, product.vendorPrice), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 37\n            }\n          }, product.productStock));\n        }), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }\n        }, order.orderDate), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }\n        }, order.orderStatus == \"shipping\" ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-info\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 33\n          }\n        }, \"Shipping\"), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn shadow-lg rounded-pill btn-light\",\n          onClick: function onClick() {\n            _this2.cancelOrder(order);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 33\n          }\n        }, \"cancel order\")) : order.orderStatus == \"cancelled\" ? /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-dark\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 33\n          }\n        }, \"Cancelled\") : /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-success\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 33\n          }\n        }, \"Delivered\")));\n      }))));\n    }\n  }]);\n\n  return UserOrder;\n}(React.Component);\n\nexport default connect(mapStateToProps)(UserOrder);","map":{"version":3,"sources":["/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/src/UserOrder/UserOrder.js"],"names":["React","connect","Store","actions","ProductService","OrderService","productaction","bidaction","Navbar","Link","orderUseraction","mapStateToProps","state","products","orderList","userorderlist","UserOrder","cancelOrder","order","then","response","json","data","statusCode","dispatch","ACTION_CANCEL_ORDER","payload","orderId","pid","productId","stock","ACTION_UPDATE_PRODUCT_QUANTITY","filterProduct","arr","props","filter","product","map","index","productName","productDescription","productImages","vendorPrice","productStock","orderDate","orderStatus","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport Store from '../Redux/Store'\nimport * as actions from '../Redux/Action/ProductAction'\nimport ProductService from '../Service/ProductService'\nimport OrderService from '../Service/OrderService'\nimport * as productaction from '../Redux/Action/ProductIdAction'\nimport * as bidaction from '../Redux/Action/BidUserAction'\nimport Navbar from '../components/Navbar'\nimport { Link } from 'react-router-dom'\nimport * as orderUseraction from '../Redux/Action/OrderAction'\n\n\nvar mapStateToProps = state => {\n    return {\n        products: state.products,\n        orderList: state.userorderlist\n    }\n}\n\n\n\nclass UserOrder extends React.Component {\n\n    cancelOrder=(order)=>{\n        \n        OrderService.cancelOrder(order)\n                .then(response => response.json())\n                .then(data => {\n                    if (data.statusCode == 200) {\n                        Store.dispatch({\n                            ...orderUseraction.ACTION_CANCEL_ORDER, payload: {\n                                orderId: data.data.orderId\n                            }\n                        })\n                        var pid=data.data.productId\n                        var stock=data.data.stock\n                        Store.dispatch({\n                            ...actions.ACTION_UPDATE_PRODUCT_QUANTITY, payload: {\n                                pid: pid,\n                                stock:stock\n                            }\n                        })\n                    }\n                })\n\n    }\n\n    filterProduct=(order)=>{\n        var arr=[]\n        arr=this.props.products.filter(product=>product.productId==order.productId)\n        return arr\n    }\n\n    render() {\n        return <>\n            <Navbar />\n            <table className=\"table table-dark table-striped\" >\n                <thead>\n                    <tr>\n                        <th scope=\"col\">Sl.No</th>\n                        <th scope=\"col\">Product Name</th>\n                        <th scope=\"col\">Product Description</th>\n                        <th scope=\"col\">Images</th>\n                        <th scope=\"col\">Bidded Price</th>\n                        <th scope=\"col\">Bidded Stock</th>\n                        <th scope=\"col\">Order Date</th>\n                        <th scope=\"col\">Order Status</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {this.props.orderList.map((order, index) => {\n                        return <tr key={index}>\n                            <th scope=\"row\">{index + 1}</th>\n                            {this.filterProduct(order).map((product) => {\n                                \n                                    \n                                return <>\n                                    <td ref={this.product=product}>{product.productName}</td>\n                                    <td>{product.productDescription}</td>\n                                    <td><img className=\"image\" src={`data:image/jpeg;base64,${product.productImages[0]}`} alt=\"first image\"></img></td>\n                                    <td>{product.vendorPrice}</td>\n                                    <td>{product.productStock}</td>\n                                </>\n                        })}\n                            <td>{order.orderDate}</td>\n                            <td>\n                                {order.orderStatus==\"shipping\"?<>\n                                <button className=\"btn btn-info\">Shipping</button>\n                                <button className=\"btn shadow-lg rounded-pill btn-light\" onClick={()=>{this.cancelOrder(order)}}>cancel order</button>\n                                </>\n                                :(order.orderStatus==\"cancelled\"?\n                                <button className=\"btn btn-dark\">Cancelled</button>\n                                :\n                                <button className=\"btn btn-success\">Delivered</button>\n                                )}\n                            </td>\n                        </tr>\n\n\n                    })}\n                </tbody>\n            </table>\n\n        </>\n\n    }\n\n}\n\nexport default connect(mapStateToProps)(UserOrder);"]},"metadata":{},"sourceType":"module"}