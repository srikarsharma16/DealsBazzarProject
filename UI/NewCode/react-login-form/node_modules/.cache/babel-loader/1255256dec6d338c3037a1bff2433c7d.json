{"ast":null,"code":"import _objectSpread from \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/src/BidComponent/MyBid.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Navigate } from \"react-router-dom\";\nimport './MyBid.css';\nimport BidService from '../Service/BidService';\nimport * as actions from '../Redux/Action/BidUserAction';\nimport Store from '../Redux/Store';\nimport ViewBidImage from '../viewBidImage/viewBidImage';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    product: state.product,\n    token: state.user.token,\n    bidUserList: state.bidUserList\n  };\n};\n\nvar MyBid = /*#__PURE__*/function (_React$Component) {\n  _inherits(MyBid, _React$Component);\n\n  var _super = _createSuper(MyBid);\n\n  function MyBid() {\n    var _this;\n\n    _classCallCheck(this, MyBid);\n\n    _this = _super.call(this);\n\n    _this.Bid = function (event) {\n      var ob = {\n        productId: _this.props.product.productId,\n        bidPrice: _this.bidderPrice.value,\n        bidStock: _this.bidderStock.value,\n        userId: _this.props.token\n      };\n\n      if (!(ob.bidPrice.length == 0 || ob.bidStock.length == 0)) {\n        BidService.addBidService(ob).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          if (data.statusCode == 200) {\n            alert(\"Bid placed is successfully\");\n\n            _this.setState({\n              redirect: true\n            });\n\n            Store.dispatch(_objectSpread(_objectSpread({}, actions.ACTION_ADD_LOGGED_USER_BIDS), {}, {\n              payload: {\n                bid: data.data\n              }\n            }));\n          } else {\n            alert(\"Bid not placed\");\n          }\n        });\n      } else {\n        alert(\"Please provide the price and stock for the product\");\n        console.log(\"No operations performed\");\n      }\n\n      event.preventDefault();\n    };\n\n    _this.state = {\n      bidStatus: true,\n      redirect: false,\n      image: 0\n    };\n    return _this;\n  }\n\n  _createClass(MyBid, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.bidUserList.map(function (p) {\n        return p.productId == _this2.props.product.productId ? p.bidStatus == -1 ? _this2.setState({\n          bidStatus: false\n        }) : \"\" : \"\";\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.redirect) {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/dashboard\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 14\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ViewBidImage, {\n        data: {\n          image: this.props.product.productImages[this.state.image]\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 1\n        }\n      }), this.state.bidStatus != false ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row row-cols-2 row-cols-lg-3 g-2 g-lg-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, this.props.product.productImages.map(function (image, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 24\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"image-border p-3 border bg-light\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          onClick: function onClick() {\n            _this3.setState({\n              image: index\n            });\n          },\n          className: \"w-100 h-100\",\n          src: \"data:image/jpeg;base64,\".concat(image),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }\n        })));\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-group list-group-flush\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }\n      }, this.props.product.productName), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 16\n        }\n      }, \"Description : \"), \" \", this.props.product.productDescription), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 16\n        }\n      }, \"Price : \\u20B9 \"), \" \", this.props.product.vendorPrice), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 16\n        }\n      }, \"Measurement : \"), \" \", this.props.product.productMeasuremntType), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 16\n        }\n      }, \"Stocks Available : \"), \" \", this.props.product.productStock)), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.Bid,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }\n      }, \"Set Price\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        ref: function ref(c) {\n          return _this3.bidderPrice = c;\n        },\n        id: \"exampleInputPassword1\",\n        min: this.props.product.vendorPrice + this.props.product.vendorPrice * (2 / 100),\n        placeholder: \"price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      })), \"\\u2002\", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }\n      }, \"Number of Stocks\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        ref: function ref(c) {\n          return _this3.bidderStock = c;\n        },\n        min: \"10\",\n        id: \"exampleInputPassword1\",\n        max: this.props.product.productStock,\n        placeholder: \"stock\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }\n      })), \"\\u2002\", /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, \"Bid\")))) : /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }\n      }, \"You have placed bid for the product already please check in your bid list.\"));\n    }\n  }]);\n\n  return MyBid;\n}(React.Component);\n\nexport default connect(mapStateToProps)(MyBid);","map":{"version":3,"sources":["/home/srikarkalle/Documents/Aman-DealsBazzar/DealsBazzarHeroku/UI/NewCode/react-login-form/src/BidComponent/MyBid.js"],"names":["React","connect","Navigate","BidService","actions","Store","ViewBidImage","mapStateToProps","state","product","token","user","bidUserList","MyBid","Bid","event","ob","productId","props","bidPrice","bidderPrice","value","bidStock","bidderStock","userId","length","addBidService","then","response","json","data","statusCode","alert","setState","redirect","dispatch","ACTION_ADD_LOGGED_USER_BIDS","payload","bid","console","log","preventDefault","bidStatus","image","map","p","productImages","index","productName","productDescription","vendorPrice","productMeasuremntType","productStock","c","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { Navigate } from \"react-router-dom\"\nimport './MyBid.css'\nimport BidService from '../Service/BidService'\nimport * as actions from '../Redux/Action/BidUserAction'\nimport Store from '../Redux/Store'\nimport ViewBidImage from '../viewBidImage/viewBidImage'\n\nvar mapStateToProps = state => {\n  return {\n    product: state.product,\n    token: state.user.token,\n    bidUserList: state.bidUserList\n  }\n}\n\nclass MyBid extends React.Component {\n\n  constructor() {\n    super()\n    this.state = {\n      bidStatus: true,\n      redirect: false,\n      image: 0\n    }\n  }\n\n  componentDidMount() {\n    this.props.bidUserList.map(p => p.productId == this.props.product.productId ? (p.bidStatus == -1) ? this.setState({ bidStatus: false }) : \"\" : \"\")\n  }\n\n  Bid = (event) => {\n    var ob = {\n      productId: this.props.product.productId,\n      bidPrice: this.bidderPrice.value,\n      bidStock: this.bidderStock.value,\n      userId: this.props.token\n    }\n    if (!(ob.bidPrice.length == 0 || ob.bidStock.length == 0)) {\n      BidService.addBidService(ob)\n        .then(response => response.json())\n        .then(data => {\n          if (data.statusCode == 200) {\n            alert(\"Bid placed is successfully\")\n            this.setState({ redirect: true })\n            Store.dispatch({\n              ...actions.ACTION_ADD_LOGGED_USER_BIDS, payload: {\n                bid: data.data\n              }\n            })\n          } else {\n            alert(\"Bid not placed\")\n          }\n        })\n    }\n    else {\n      alert(\"Please provide the price and stock for the product\")\n      console.log(\"No operations performed\")\n    }\n    event.preventDefault();\n  }\n\n\n\n\n  render() {\n    if (this.state.redirect) {\n      return <Navigate to=\"/dashboard\"></Navigate>\n    }\n    return <>\n\n<ViewBidImage  data={{ image: this.props.product.productImages[this.state.image] }} />\n\n      {this.state.bidStatus != false ? <>\n        <div className=\"container\">\n          <div className=\"row row-cols-2 row-cols-lg-3 g-2 g-lg-3\">\n            <div className=\"row\">\n              {this.props.product.productImages.map((image, index) => {\n                return <div className=\"col\">\n                  <div className=\"image-border p-3 border bg-light\">\n\n                    <img onClick={() => { this.setState({ image: index }) }} className=\"w-100 h-100\" src={`data:image/jpeg;base64,${image}`} />\n\n                  </div>\n                </div>\n              })}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"list-group list-group-flush\">\n          <h6 className=\"font-weight-bold\">{this.props.product.productName}</h6>\n          <h6 ><strong>Description : </strong> {this.props.product.productDescription}</h6>\n          <h6 ><strong>Price : &#8377; </strong> {this.props.product.vendorPrice}</h6>\n          <h6 ><strong>Measurement : </strong> {this.props.product.productMeasuremntType}</h6>\n          <h6 ><strong>Stocks Available : </strong> {this.props.product.productStock}</h6>\n        </div>\n\n        <hr /><hr />\n\n        <form onSubmit={this.Bid}>\n          <div className=\"input-group mb-3\">\n            <div className=\"form-group\">\n              <label >Set Price</label>\n              <input type=\"number\" className=\"form-control\" ref={c => this.bidderPrice = c} id=\"exampleInputPassword1\" min={this.props.product.vendorPrice + (this.props.product.vendorPrice * (2 / 100))} placeholder=\"price\" />\n            </div>\n            &ensp;\n            <div className=\"form-group\">\n              <label >Number of Stocks</label>\n              <input type=\"number\" className=\"form-control\" ref={c => this.bidderStock = c} min=\"10\" id=\"exampleInputPassword1\" max={this.props.product.productStock} placeholder=\"stock\" />\n            </div>\n            &ensp;\n            <button type=\"submit\" className=\"btn btn-primary\">Bid</button>\n          </div>\n        </form>\n      </>\n        : <h1>You have placed bid for the product already please check in your bid list.</h1>}\n    </>\n  }\n}\nexport default connect(mapStateToProps)(MyBid);"]},"metadata":{},"sourceType":"module"}